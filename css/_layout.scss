/* -------------------------------------------------------------------------------
 * layout
 * -------------------------------------------------------------------------------*/

body {
    max-width: 105em;

    @include mq(xxl) {
        margin: 0 auto;
    }
}

.site-header {
    @include rem-fallback(padding, $scale-8, $scale-0);

    @include mq(xs) {
        padding-left: 10%;
        padding-right: 10%;
    }

    @include mq(xl) {
        @include rem-fallback(padding-top, $scale-11);
        @include rem-fallback(padding-bottom, $scale-11);
        padding-left: 10%;
        padding-right: 10%;
    }
}

.legend {
    @include rem-fallback(margin, $scale-0, 0, 0);
}

.main {
    @include rem-fallback(padding-left, $scale-0);
    @include rem-fallback(padding-right, $scale-0);

    @include mq(xs) {
        padding-left: 10%;
        padding-right: 10%;
    }
}

.about {

    p {
        @include mq(xl) {
            width: 100%;
        }

        @include mq(xxl) {
            width: 51.666%/80%*100%;
        }

        &::first-of-type {
            margin-top: 0;
        }

        & + p {
            @include mq(xxl) {
                width: 50%;
                padding-right: 2.5%;
            }
        }
    }
}


.main,
.portfolio {
    @include rem-fallback(padding-bottom, $scale-6);

    @include mq(s) {
        @include rem-fallback(padding-bottom, $scale-10);
    }
}

.portfolio {

    @include mq(xl) {
        color: $grey-1;
        padding-bottom: 0;
    }

    h2,
    .project-info {
        @include rem-fallback(padding-left, $scale-0);
        @include rem-fallback(padding-right, $scale-0);

        @include mq(xs) {
            padding-left: 10%;
            padding-right: 10%;
        }
    }

    .project-info {
        @include mq(xxl) {
            @include rem-fallback(bottom, $scale-8);
        }
    }

    h2 {
        @include mq(xl) {
            position: absolute;
            z-index: 1000;
        }
    }

    .hentry {

        @include mq(xl) {
            position: relative;
            overflow: hidden;
        }

        .photo {
            @include mq(xl) {
                float: left;
                clear: left;
                width: 100%;
            }

            img {
                @include mq(xl) {
                    width: 100%;
                }
            }

        }
    }

    .project-info {
        // @include rem-fallback(margin-top, -$scale-7);
        @include rem-fallback(padding-top, $scale-0);

        // @include mq(xs) {
        //    @include rem-fallback(margin-top, -$scale-8);
        // }

        @include mq(s) {
            @include rem-fallback(padding-top, $scale-4);
        }

        @include mq(xl) {
            position: absolute;
            left: 45%;
            @include rem-fallback(bottom, $scale-6);
            margin-top: 0;
            padding-top: 0;
            padding-left: 7.5%;
            padding-right: 5%;
            width: 50%;
        }

        h3 {
            margin-top: 0;
        }

    }

    .project-changer {
        @include mq(xs) {
            @include rem-fallback(bottom, $scale-8);
        }

        @include mq(xl) {
            position: absolute;
            @include rem-fallback(bottom, $scale-4);
        }

        @include mq(xxl) {
            @include rem-fallback(bottom, $scale-6);
        }
    }

    .entry-summary P:first-of-type {
        margin-top: 0;
    }

    .image-changer {
        @include rem-fallback(margin, $scale-0, 0);
            li {
                display: inline-block;
                @include rem-fallback(margin-right, $scale-0);

                &:last-child {
                    margin-right: 0;
            }
        }

        @include mq(s) {
            @include rem-fallback(margin, $scale-2, 0);
        }

        @include mq(xl) {
            @include rem-fallback(margin, $scale-0, 0);
        }

        @include mq(xxl) {
            @include rem-fallback(margin, $scale-2, 0);
        }
    }
}

.no-js .portfolio {
    .image-changer,
    .project-changer {
        display: none;
    }
}

.slide-link {
    text-indent: -9999em;
    overflow: hidden;
    display: inline-block;
    @include rem-fallback(width, 3);
    @include rem-fallback(height, 3);
    border-radius: 50%;

    &.small-screen {
        background: url('/assets/phone-icon-blue.png') center center no-repeat;

        @media screen and (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
            background-image: url('/assets/phone-icon-blue-retina.png');
            background-size: 50% auto;
        }

        @include mq(xl) {
            background-image: url('/assets/phone-icon.png');
        }

        @media screen and (min-width: 64em) and (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
            background-image: url('/assets/phone-icon-retina.png');
            background-size: 50% auto;
        }

        &.current, &:hover, &:focus {
            background-image: url('/assets/phone-icon.png');

            @media screen and (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
                background-image: url('/assets/phone-icon-retina.png');
            }
        }
    }

    &.medium-screen {
        background: url('/assets/tablet-icon-blue.png') center center no-repeat;

        @media screen and (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
            background-image: url('/assets/tablet-icon-blue-retina.png');
            background-size: 50% auto;
        }

        @include mq(xl) {
            background-image: url('/assets/tablet-icon.png');
        }

        @media screen and (min-width: 64em) and (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
            background-image: url('/assets/tablet-icon-retina.png');
            background-size: 50% auto;
        }

        &.current, &:hover, &:focus {
            background-image: url('/assets/tablet-icon.png');

            @media screen and (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
                background-image: url('/assets/tablet-icon-retina.png');
            }
        }
    }

    &.large-screen {
        background: url('/assets/desktop-icon-blue.png') center center no-repeat;

        @media screen and (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
            background-image: url('/assets/desktop-icon-blue-retina.png');
            background-size: 50% auto;
        }

        @include mq(xl) {
            background-image: url('/assets/desktop-icon.png');
        }

        @media screen and (min-width: 64em) and (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
            background-image: url('/assets/desktop-icon-retina.png');
            background-size: 50% auto;
        }

        &.current, &:hover, &:focus {
            background-image: url('/assets/desktop-icon.png');

            @media screen and (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
                background-image: url('/assets/desktop-icon-retina.png');
            }
        }
    }

    &.current {
        background-color: $submit;
    }

    &:hover,
    &:focus {
        cursor: pointer;
        background-color: darken($submit, 20%);
    }
}

.flexslider {

    @include mq(xl) {
        .flexslider {
            .flex-viewport {
                height: 0;
                padding-bottom: 56.25%;
            }
        }
    }

    .slides,
    figure {
        margin-top: 0;
        .photo {
            @include rem-fallback(margin-bottom, -0.625);
        }
    }

    .next, .previous {
        display: inline-block;
        @include rem-fallback(min-width, 10);
        @include rem-fallback(margin-top, $scale-0);
        @include rem-fallback(padding, $scale-n2, $scale-0);
        text-align: center;
    }

    .next {
        float: right;
        clear: right;
        @include rem-fallback(margin-left, $scale-n7);
    }

    .previous {
        float: left;
        clear: left;
        @include rem-fallback(margin-right, $scale-n7);
    }
}

.project-link {
    @include rem-fallback(height, $scale-4);
    @include rem-fallback(width, $scale-4);
    display: block;
    border-radius: 50%;
}

.main.contact-form {
    @include mq(s) {
        @include rem-fallback(padding-bottom, $scale-8);
    }

    .short-input {
        @include mq(xl) {
            width: 23.333%/80%*100%;
            @include rem-fallback(padding-top, $scale-2);
        }
    }

    div.short-input {
        @include mq(xl) {
            display: inline-block;
            float: left;
            clear: left;

            fieldset {
                label {
                    @include rem-fallback(margin-top, 1.1);
                }

                &:first-child label {
                    @include rem-fallback(margin-top, $scale-0);
                }
            }
        }
    }

    .long-input {
        @include mq(xl) {
            display: inline-block;
            float: right;
            clear: right;
            width: 51.666%/80%*100%;
            @include rem-fallback(padding-top, $scale-2);
        }
    }

    .additional-questions {
        @include mq(xl) {
            clear: both;
            @include rem-fallback(font-size, $scale-0);
            @include rem-fallback(padding-top, $scale-2);
            .short-input {
                float: left;
                width: 28.333%/80%*100%;
                padding-right: 5%/80%*100%;
                &:last-of-type {
                    width: 23.333%/80%*100%;
                    padding-right: 0;
                }
                input {
                    @include rem-fallback(margin-top, $scale-n4);
                }
            }
        }
    }

    .button-container {
        @include mq(xl) {
            clear: right;
            @include rem-fallback(padding-top, $scale-6);
        }
    }

    .button {
        @include mq(xl) {
            float: right;
            clear: right;
            width: 23.333%/80%*100%;
        }
    }
}